#まさじん_読書記録

#### 2026.2/4(水)
##### 📘『Webを支える技術』
###### ＜＜RESTの本質的な価値（ハイパーメディアと分散システム）を理解する＞＞

RESTが単なるAPI設計ルールではなく、  
**Webが大規模・長期に進化するための理論**であることを学んだ。
* * *

###### 🧭 学んだこと①：RESTには「2つの側面」がある

RESTには、以下の2つの重要な側面がある。

- **🌐 ハイパーメディアとしての側面**
- **🧩 分散システムとしての側面**

どちらも  
「Webがなぜここまでうまく動いているのか」  
を説明するための考え方であり、  
**個別の実装テクニックではない**。

* * *
##### 🔗 学んだこと②：ハイパーメディアは「アプリケーション状態エンジン」である

Webでは、ユーザーはリンクをたどることで次のページに遷移し、  
結果としてアプリケーション全体を利用している。

RESTではこの性質を  
**「アプリケーション状態エンジンとしてのハイパーメディア」**  
と呼ぶ。

###### アプリケーション状態とは
- サーバやDBの状態ではない  
- **ユーザーが今どの段階にいるかという進行状況**

###### ポイント
- リソース同士をリンクで接続することで  
  **1つのアプリケーションが成立する**
- この考え方を **接続性（Connectivity）** と呼ぶ
- RESTでは  
  「次に何をすべきか」をクライアントが事前に知るのではなく、  
  **表現に含まれるリンクを見て状態遷移することが理想**とされる

* * *
###### 🔁 学んだこと③：RESTはRPCとは異なる分散システムの考え方

RPCや分散オブジェクト（CORBAなど）は、次の特徴を持つ。

- ネットワーク越しに関数・メソッドを呼び出す
- APIは操作（手続き）中心
- インターフェースが細かくなりがち

しかし、ネットワーク越しの関数呼び出しには、

- ⏱ 遅い  
- ⚠️ 失敗しやすい  
- 🔄 API変更に弱い  

といった問題がある。

* * *
##### 📦 学んだこと④：RESTは「粒度の大きいリソース」を扱う

RESTでは、関数ではなく **リソース** をやりとりする。

###### リソースとは
- それ自体で意味を持つ  
  **「ひとかたまりの情報」**

###### 粒度が大きいことによる利点
- 呼び出し回数が減る
- キャッシュが効く
- クライアントが増えても壊れにくい

この設計により、  
Webは **大規模・分散・長期運用** に耐えられるようになった。

* * *
##### 🔄 学んだこと⑤：RESTは「互換性」を最優先する設計思想である

RPC的なAPIでは、

- メソッド追加・引数変更のたびに
- クライアントの同時更新が必要

となり、大規模Webでは現実的ではない。

一方RESTでは、

- HTTPメソッドが固定されている
- URIが安定している
- 表現（HTML / JSON）を拡張することで進化できる

ため、  
**既存クライアントを壊さずに進化できる**。

* * *
##### 🌍 学んだこと⑥：RESTの意義

RESTは、

- Web全体のためのアーキテクチャスタイルであり
- 分散ネットワークシステムを成立させる理論

である。

RESTfulなWebサービスやWeb APIが増えることで、  
Web全体は **より壊れにくく、再利用しやすいもの** になる。

* * *
##### 🛠 自分のアプリ（MabaTalk）に引き寄せた理解

- **confirm / completion 画面**は  
  REST的なリソースではなく **UI状態**
- 状態遷移の結果は  
  **message_log というリソースに集約**されている
- これはRESTの理想形ではないが、  
  **UXを優先した意図的な設計判断**

RESTを  
「守るべき規則」ではなく、  
**設計判断の参照軸として使っている**  
と整理できた。

* * *

##### ✍️ 今日のまとめ（1文）

> RESTは、  
> リンクによってアプリケーション状態を遷移させる  
> 分散システムのためのアーキテクチャスタイルであり、  
> **Webがここまで成功した理由そのものである。**
